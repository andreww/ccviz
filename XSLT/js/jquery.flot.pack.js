(function(F){function D(AE,b,c){var N=[];var k={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85},xaxis:{ticks:null,noTicks:5,tickFormatter:z,tickDecimals:null,min:null,max:null,autoscaleMargin:0},yaxis:{noTicks:5,ticks:null,tickFormatter:z,min:null,max:null,autoscaleMargin:0.02},points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff"},lines:{show:false,lineWidth:2,fill:false,fillColor:null},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null},grid:{color:"#545454",backgroundColor:null,tickColor:"#dddddd",labelMargin:3},selection:{mode:null,color:"#e8cfac"},shadowSize:4};var O=null,AG=null;var d=null,AM=null;var J=AE;var n={};var Z={};var h={left:0,right:0,top:0,bottom:0};var t=0;var a=0;var AB=0;var R=0;var L=0;var w=0;var v=0;var u=0;N=M(b);s(c);W();g();AI();m();AF(n,k.xaxis);X();AF(Z,k.yaxis);j(n,k.xaxis);j(Z,k.yaxis);V();AJ();AK();this.getCanvas=function(){return O};this.getPlotOffset=function(){return h};this.clearSelection=H;this.setSelection=y;function M(AR){var AP=[];for(var AO=0;AO<AR.length;++AO){var AQ;if(AR[AO].data){AQ={};for(var AN in AR[AO]){AQ[AN]=AR[AO][AN]}}else{AQ={data:AR[AO]}}AP.push(AQ)}return AP}function s(AN){F.extend(true,k,AN)}function g(){AB=J.width();R=J.height();J.html("");J.css("position","relative");if(AB<=0||R<=0){throw"Invalid dimensions for plot, width = "+AB+", height = "+R}O=jQuery('<canvas width="'+AB+'" height="'+R+'"></canvas>').appendTo(J).get(0);if(jQuery.browser.msie){O=window.G_vmlCanvasManager.initElement(O)}d=O.getContext("2d");AG=jQuery('<canvas style="position:absolute;left:0px;top:0px;" width="'+AB+'" height="'+R+'"></canvas>').appendTo(J).get(0);if(jQuery.browser.msie){AG=window.G_vmlCanvasManager.initElement(AG)}AM=AG.getContext("2d")}function AI(){if(k.selection.mode!=null){F(AG).mousedown(AD);J.get(0).onmousemove=I}}function m(){Z.datamin=n.datamin=0;n.datamax=Z.datamax=1;if(N.length==0){return }var AP,AR=false;for(AP=0;AP<N.length;++AP){if(N[AP].data.length>0){n.datamin=n.datamax=N[AP].data[0][0];Z.datamin=Z.datamax=N[AP].data[0][1];AR=true;break}}if(!AR){return }for(AP=0;AP<N.length;++AP){var AQ=N[AP].data;for(var AO=0;AO<AQ.length;++AO){var AN=AQ[AO][0];var AS=AQ[AO][1];if(AN<n.datamin){n.datamin=AN}else{if(AN>n.datamax){n.datamax=AN}}if(AS<Z.datamin){Z.datamin=AS}else{if(AS>Z.datamax){Z.datamax=AS}}}}}function K(AR,AQ,AN,AO){var AU=(AN-AQ)/AR;var AT=C(AU);var AP=AU/AT;var AS=1;if(AP<1.5){AS=1}else{if(AP<2.25){AS=2}else{if(AP<3){AS=2.5}else{if(AP<7.5){AS=5}else{AS=10}}}}if(AS==2.5&&AO==0){AS=2}AS*=AT;return AS}function AF(AQ,AS){var AP=AS.min!=null?AS.min:AQ.datamin;var AN=AS.max!=null?AS.max:AQ.datamax;if(AN-AP==0){var AO;if(AN==0){AO=1}else{AO=0.01}AP-=AO;AN+=AO}AQ.tickSize=K(AS.noTicks,AP,AN,AS.tickDecimals);var AR;if(AS.min==null){AR=AS.autoscaleMargin;if(AR!=0){AP-=AQ.tickSize*AR;if(AP<0&&AQ.datamin>=0){AP=0}AP=AQ.tickSize*Math.floor(AP/AQ.tickSize)}}if(AS.max==null){AR=AS.autoscaleMargin;if(AR!=0){AN+=AQ.tickSize*AR;if(AN>0&&AQ.datamax<=0){AN=0}AN=AQ.tickSize*Math.ceil(AN/AQ.tickSize)}}AQ.min=AP;AQ.max=AN}function X(){if(k.xaxis.max==null){var AO=n.max;for(var AN=0;AN<N.length;++AN){if(N[AN].bars.show&&N[AN].bars.barWidth+n.datamax>AO){AO=n.max+N[AN].bars.barWidth}}n.max=AO}}function z(AN){return""+AN}function j(AP,AQ){var AR;AP.ticks=[];if(AQ.ticks){var AT=AQ.ticks;if(F.isFunction(AT)){AT=AT({min:AP.min,max:AP.max})}for(AR=0;AR<AT.length;++AR){var AU,AS;var AV=AT[AR];if(typeof (AV)=="object"){AU=AV[0];if(AV.length>1){AS=AV[1]}else{AS=AQ.tickFormatter(AU)}}else{AU=AV;AS=AQ.tickFormatter(AU)}AP.ticks[AR]={v:AU,label:AS}}}else{var AN=AP.tickSize*Math.ceil(AP.min/AP.tickSize);for(AR=0;AN+AR*AP.tickSize<=AP.max;++AR){AU=AN+AR*AP.tickSize;var AO=AQ.tickDecimals;if(AO==null){AO=1-Math.floor(Math.log(AP.tickSize)/Math.LN10)}if(AO<0){AO=0}AU=AU.toFixed(AO);AP.ticks.push({v:AU,label:AQ.tickFormatter(AU)})}}}function V(){var AP,AQ="";for(AP=0;AP<Z.ticks.length;++AP){var AO=Z.ticks[AP].label.length;if(AO>AQ.length){AQ=Z.ticks[AP].label}}var AN=F('<div style="position:absolute;top:-10000px;font-size:smaller" class="gridLabel">'+AQ+"</div>").appendTo(J);t=AN.width();a=AN.height();AN.remove();var AR=2;if(k.points.show){AR=Math.max(AR,k.points.radius+k.points.lineWidth/2)}for(AP=0;AP<N.length;++AP){if(N[AP].points.show){AR=Math.max(AR,N[AP].points.radius+N[AP].points.lineWidth/2)}}h.left=h.right=h.top=h.bottom=AR;h.left+=t+k.grid.labelMargin;h.bottom+=a+k.grid.labelMargin;L=AB-h.left-h.right;w=R-h.bottom-h.top;v=L/(n.max-n.min);u=w/(Z.max-Z.min)}function AJ(){S();AL();for(var AN=0;AN<N.length;AN++){AC(N[AN])}}function x(AN){return(AN-n.min)*v}function f(AN){return w-(AN-Z.min)*u}function S(){d.save();d.translate(h.left,h.top);if(k.grid.backgroundColor!=null){d.fillStyle=k.grid.backgroundColor;d.fillRect(0,0,L,w)}d.lineWidth=1;d.strokeStyle=k.grid.tickColor;d.beginPath();var AO,AN;for(AO=0;AO<n.ticks.length;++AO){AN=n.ticks[AO].v;if(AN==n.min||AN==n.max){continue}d.moveTo(Math.floor(x(AN))+d.lineWidth/2,0);d.lineTo(Math.floor(x(AN))+d.lineWidth/2,w)}for(AO=0;AO<Z.ticks.length;++AO){AN=Z.ticks[AO].v;if(AN==Z.min||AN==Z.max){continue}d.moveTo(0,Math.floor(f(AN))+d.lineWidth/2);d.lineTo(L,Math.floor(f(AN))+d.lineWidth/2)}d.stroke();d.lineWidth=2;d.strokeStyle=k.grid.color;d.lineJoin="round";d.strokeRect(0,0,L,w);d.restore()}function AL(){var AQ;var AP;var AO='<div style="font-size:smaller;color:'+k.grid.color+'">';var AR=0;for(AQ=0;AQ<n.ticks.length;++AQ){if(n.ticks[AQ].label){++AR}}var AN=L/AR;for(AQ=0;AQ<n.ticks.length;++AQ){AP=n.ticks[AQ];if(!AP.label){continue}AO+='<div style="position:absolute;top:'+(h.top+w+k.grid.labelMargin)+"px;left:"+(h.left+x(AP.v)-AN/2)+"px;width:"+AN+'px;text-align:center" class="gridLabel">'+AP.label+"</div>"}for(AQ=0;AQ<Z.ticks.length;++AQ){AP=Z.ticks[AQ];if(!AP.label||AP.label.length==0){continue}AO+='<div style="position:absolute;top:'+(h.top+f(AP.v)-a/2)+"px;left:0;width:"+t+'px;text-align:right" class="gridLabel">'+AP.label+"</div>"}AO+="</div>";J.append(AO)}function W(){var AS;var AX=N.length;var AN=[];var AQ=[];for(AS=0;AS<N.length;++AS){var AW=N[AS].color;if(AW!=null){--AX;if(typeof (AW)=="number"){AQ.push(AW)}else{AN.push(E(N[AS].color))}}}for(AS=0;AS<AQ.length;++AS){AX=Math.max(AX,AQ[AS]+1)}var AO=[];var AR=0;AS=0;while(AO.length<AX){var AV;if(k.colors.length==AS){AV=new G(100,100,100)}else{AV=E(k.colors[AS])}var AP=AR%2==1?-1:1;var AU=1+AP*Math.ceil(AR/2)*0.2;AV.scale(AU,AU,AU);AO.push(AV);++AS;if(AS>=k.colors.length){AS=0;++AR}}var AT=0;for(AS=0;AS<N.length;++AS){var AY=N[AS];if(AY.color==null){AY.color=AO[AT].toString();++AT}else{if(typeof (AY.color)=="number"){AY.color=AO[AY.color].toString()}}AY.lines=F.extend(true,{},k.lines,AY.lines);AY.points=F.extend(true,{},k.points,AY.points);AY.bars=F.extend(true,{},k.bars,AY.bars);if(AY.shadowSize==null){AY.shadowSize=k.shadowSize}}}function AC(AN){if(AN.lines.show||(!AN.bars.show&&!AN.points.show)){e(AN)}if(AN.bars.show){o(AN)}if(AN.points.show){p(AN)}}function e(AP){function AO(AX,AW){if(AX.length<2){return }var AV=x(AX[0][0]),AU=f(AX[0][1])+AW;d.beginPath();d.moveTo(AV,AU);for(var AY=0;AY<AX.length-1;++AY){var AT=AX[AY][0],Aa=AX[AY][1],AS=AX[AY+1][0],AZ=AX[AY+1][1];if(Aa<=AZ&&Aa<Z.min){if(AZ<Z.min){continue}AT=(Z.min-Aa)/(AZ-Aa)*(AS-AT)+AT;Aa=Z.min}else{if(AZ<=Aa&&AZ<Z.min){if(Aa<Z.min){continue}AS=(Z.min-Aa)/(AZ-Aa)*(AS-AT)+AT;AZ=Z.min}}if(Aa>=AZ&&Aa>Z.max){if(AZ>Z.max){continue}AT=(Z.max-Aa)/(AZ-Aa)*(AS-AT)+AT;Aa=Z.max}else{if(AZ>=Aa&&AZ>Z.max){if(Aa>Z.max){continue}AS=(Z.max-Aa)/(AZ-Aa)*(AS-AT)+AT;AZ=Z.max}}if(AT<=AS&&AT<n.min){if(AS<n.min){continue}Aa=(n.min-AT)/(AS-AT)*(AZ-Aa)+Aa;AT=n.min}else{if(AS<=AT&&AS<n.min){if(AT<n.min){continue}AZ=(n.min-AT)/(AS-AT)*(AZ-Aa)+Aa;AS=n.min}}if(AT>=AS&&AT>n.max){if(AS>n.max){continue}Aa=(n.max-AT)/(AS-AT)*(AZ-Aa)+Aa;AT=n.max}else{if(AS>=AT&&AS>n.max){if(AT>n.max){continue}AZ=(n.max-AT)/(AS-AT)*(AZ-Aa)+Aa;AS=n.max}}if(AV!=x(AT)||AU!=f(Aa)+AW){d.moveTo(x(AT),f(Aa)+AW)}AV=x(AS);AU=f(AZ)+AW;d.lineTo(AV,AU)}d.stroke()}function AQ(AW){if(AW.length<2){return }var AS=Math.min(Math.max(0,Z.min),Z.max);var Ab,AU=0;var AY=true;d.beginPath();for(var AX=0;AX<AW.length-1;++AX){var AV=AW[AX][0],Ac=AW[AX][1],AT=AW[AX+1][0],Aa=AW[AX+1][1];if(AV<=AT&&AV<n.min){if(AT<n.min){continue}Ac=(n.min-AV)/(AT-AV)*(Aa-Ac)+Ac;AV=n.min}else{if(AT<=AV&&AT<n.min){if(AV<n.min){continue}Aa=(n.min-AV)/(AT-AV)*(Aa-Ac)+Ac;AT=n.min}}if(AV>=AT&&AV>n.max){if(AT>n.max){continue}Ac=(n.max-AV)/(AT-AV)*(Aa-Ac)+Ac;AV=n.max}else{if(AT>=AV&&AT>n.max){if(AV>n.max){continue}Aa=(n.max-AV)/(AT-AV)*(Aa-Ac)+Ac;AT=n.max}}if(AY){d.moveTo(x(AV),f(AS));AY=false}if(Ac>=Z.max&&Aa>=Z.max){d.lineTo(x(AV),f(Z.max));d.lineTo(x(AT),f(Z.max));continue}else{if(Ac<=Z.min&&Aa<=Z.min){d.lineTo(x(AV),f(Z.min));d.lineTo(x(AT),f(Z.min));continue}}var Ad=AV,AZ=AT;if(Ac<=Aa&&Ac<Z.min&&Aa>=Z.min){AV=(Z.min-Ac)/(Aa-Ac)*(AT-AV)+AV;Ac=Z.min}else{if(Aa<=Ac&&Aa<Z.min&&Ac>=Z.min){AT=(Z.min-Ac)/(Aa-Ac)*(AT-AV)+AV;Aa=Z.min}}if(Ac>=Aa&&Ac>Z.max&&Aa<=Z.max){AV=(Z.max-Ac)/(Aa-Ac)*(AT-AV)+AV;Ac=Z.max}else{if(Aa>=Ac&&Aa>Z.max&&Ac<=Z.max){AT=(Z.max-Ac)/(Aa-Ac)*(AT-AV)+AV;Aa=Z.max}}if(AV!=Ad){if(Ac<=Z.min){Ab=Z.min}else{Ab=Z.max}d.lineTo(x(Ad),f(Ab));d.lineTo(x(AV),f(Ab))}d.lineTo(x(AV),f(Ac));d.lineTo(x(AT),f(Aa));if(AT!=AZ){if(Aa<=Z.min){Ab=Z.min}else{Ab=Z.max}d.lineTo(x(AZ),f(Ab));d.lineTo(x(AT),f(Ab))}AU=Math.max(AT,AZ)}d.lineTo(x(AU),f(AS));d.fill()}d.save();d.translate(h.left,h.top);d.lineJoin="round";var AR=AP.lines.lineWidth;var AN=AP.shadowSize;if(AN>0){d.lineWidth=AN/2;d.strokeStyle="rgba(0,0,0,0.1)";AO(AP.data,AR/2+AN/2+d.lineWidth/2);d.lineWidth=AN/2;d.strokeStyle="rgba(0,0,0,0.2)";AO(AP.data,AR/2+d.lineWidth/2)}d.lineWidth=AR;d.strokeStyle=AP.color;if(AP.lines.fill){d.fillStyle=AP.lines.fillColor!=null?AP.lines.fillColor:E(AP.color).scale(null,null,null,0.4).toString();AQ(AP.data,0)}AO(AP.data,0);d.restore()}function p(AO){function AR(AV,AT,AW){for(var AU=0;AU<AV.length;++AU){var AS=AV[AU][0],AX=AV[AU][1];if(AS<n.min||AS>n.max||AX<Z.min||AX>Z.max){continue}d.beginPath();d.arc(x(AS),f(AX),AT,0,2*Math.PI,true);if(AW){d.fill()}d.stroke()}}function AQ(AV,AW,AT){for(var AU=0;AU<AV.length;++AU){var AS=AV[AU][0],AX=AV[AU][1];if(AS<n.min||AS>n.max||AX<Z.min||AX>Z.max){continue}d.beginPath();d.arc(x(AS),f(AX)+AW,AT,0,Math.PI,false);d.stroke()}}d.save();d.translate(h.left,h.top);var AP=AO.lines.lineWidth;var AN=AO.shadowSize;if(AN>0){d.lineWidth=AN/2;d.strokeStyle="rgba(0,0,0,0.1)";AQ(AO.data,AN/2+d.lineWidth/2,AO.points.radius);d.lineWidth=AN/2;d.strokeStyle="rgba(0,0,0,0.2)";AQ(AO.data,d.lineWidth/2,AO.points.radius)}d.lineWidth=AO.points.lineWidth;d.strokeStyle=AO.color;d.fillStyle=AO.points.fillColor!=null?AO.points.fillColor:AO.color;AR(AO.data,AO.points.radius,AO.points.fill);d.restore()}function o(AO){function AN(AV,Ae,AT,Ad){if(AV.length<2){return }for(var AW=0;AW<AV.length;AW++){var Aa=AV[AW][0],AZ=AV[AW][1];var Ac=true,AU=true,AX=true;var AS=Aa,Ab=Aa+Ae,AR=0,AY=AZ;if(Ab<n.min||AS>n.max||AY<Z.min||AR>Z.max){continue}if(AS<n.min){AS=n.min;Ac=false}if(Ab>n.max){Ab=n.max;AX=false}if(AR<Z.min){AR=Z.min}if(AY>Z.max){AY=Z.max;AU=false}if(Ad){d.beginPath();d.moveTo(x(AS),f(AR)+AT);d.lineTo(x(AS),f(AY)+AT);d.lineTo(x(Ab),f(AY)+AT);d.lineTo(x(Ab),f(AR)+AT);d.fill()}if(Ac||AX||AU){d.beginPath();d.moveTo(x(AS),f(AR)+AT);if(Ac){d.lineTo(x(AS),f(AY)+AT)}else{d.moveTo(x(AS),f(AY)+AT)}if(AU){d.lineTo(x(Ab),f(AY)+AT)}else{d.moveTo(x(Ab),f(AY)+AT)}if(AX){d.lineTo(x(Ab),f(AR)+AT)}else{d.moveTo(x(Ab),f(AR)+AT)}d.stroke()}}}d.save();d.translate(h.left,h.top);d.lineJoin="round";var AQ=AO.bars.barWidth;var AP=Math.min(AO.bars.lineWidth,AQ);d.lineWidth=AP;d.strokeStyle=AO.color;if(AO.bars.fill){d.fillStyle=AO.bars.fillColor!=null?AO.bars.fillColor:E(AO.color).scale(null,null,null,0.4).toString()}AN(AO.data,AQ,0,AO.bars.fill);d.restore()}function AK(){if(!k.legend.show){return }var AT=[];var AR=false;for(i=0;i<N.length;++i){if(!N[i].label){continue}if(i%k.legend.noColumns==0){if(AR){AT.push("</tr>")}AT.push("<tr>");AR=true}var AV=N[i].label;if(k.legend.labelFormatter!=null){AV=k.legend.labelFormatter(AV)}AT.push('<td class="legendColorBox"><div style="border:1px solid '+k.legend.labelBoxBorderColor+';padding:1px"><div style="width:14px;height:10px;background-color:'+N[i].color+'"></div></div></td><td class="legendLabel">'+AV+"</td>")}if(AR){AT.push("</tr>")}if(AT.length>0){var AW='<table style="font-size:smaller;color:'+k.grid.color+'">'+AT.join("")+"</table>";if(k.legend.container!=null){k.legend.container.append(AW)}else{var AU="";var AO=k.legend.position,AP=k.legend.margin;if(AO.charAt(0)=="n"){AU+="top:"+(AP+h.top)+"px;"}else{if(AO.charAt(0)=="s"){AU+="bottom:"+(AP+h.bottom)+"px;"}}if(AO.charAt(1)=="e"){AU+="right:"+(AP+h.right)+"px;"}else{if(AO.charAt(1)=="w"){AU+="left:"+(AP+h.bottom)+"px;"}}var AN=F('<div class="legend" style="position:absolute;z-index:2;'+AU+'">'+AW+"</div>").appendTo(J);if(k.legend.backgroundOpacity!=0){var AS=k.legend.backgroundColor;if(AS==null){var AQ;if(k.grid.backgroundColor!=null){AQ=k.grid.backgroundColor}else{AQ=A(AN)}AS=E(AQ).adjust(null,null,null,1).toString()}F('<div style="position:absolute;width:'+AN.width()+"px;height:"+AN.height()+"px;"+AU+"background-color:"+AS+';"> </div>').appendTo(J).css("opacity",k.legend.backgroundOpacity)}}}}var AA={pageX:null,pageY:null};var Y={first:{x:-1,y:-1},second:{x:-1,y:-1}};var P=null;var q=null;function I(AO){var AP=AO||window.event;if(AP.pageX==null&&AP.clientX!=null){var AQ=document.documentElement,AN=document.body;AA.pageX=AP.clientX+(AQ&&AQ.scrollLeft||AN.scrollLeft||0);AA.pageY=AP.clientY+(AQ&&AQ.scrollTop||AN.scrollTop||0)}else{AA.pageX=AP.pageX;AA.pageY=AP.pageY}}function AD(AN){if(AN.which!=1){return }AH(Y.first,AN);if(q!=null){clearInterval(q)}AA.pageX=null;q=setInterval(r,200);F(document).one("mouseup",Q)}function l(){var AO,AN,AQ,AP;if(Y.first.x<=Y.second.x){AO=Y.first.x;AN=Y.second.x}else{AO=Y.second.x;AN=Y.first.x}if(Y.first.y>=Y.second.y){AQ=Y.first.y;AP=Y.second.y}else{AQ=Y.second.y;AP=Y.first.y}AO=n.min+AO/v;AN=n.min+AN/v;AQ=Z.max-AQ/u;AP=Z.max-AP/u;J.trigger("selected",[{x1:AO,y1:AQ,x2:AN,y2:AP}])}function Q(AN){if(q!=null){clearInterval(q);q=null}AH(Y.second,AN);H();if(!T()||AN.which!=1){return false}U();l();return false}function AH(AP,AN){var AO=F(AG).offset();if(k.selection.mode=="y"){if(AP==Y.first){AP.x=0}else{AP.x=L}}else{AP.x=AN.pageX-AO.left-h.left;AP.x=Math.min(Math.max(0,AP.x),L)}if(k.selection.mode=="x"){if(AP==Y.first){AP.y=0}else{AP.y=w}}else{AP.y=AN.pageY-AO.top-h.top;AP.y=Math.min(Math.max(0,AP.y),w)}}function r(){if(AA.pageX==null){return }AH(Y.second,AA);H();if(T()){U()}}function H(){if(P==null){return }var AN=Math.min(P.first.x,P.second.x),AQ=Math.min(P.first.y,P.second.y),AO=Math.abs(P.second.x-P.first.x),AP=Math.abs(P.second.y-P.first.y);AM.clearRect(AN+h.left-AM.lineWidth,AQ+h.top-AM.lineWidth,AO+AM.lineWidth*2,AP+AM.lineWidth*2);P=null}function y(AN){H();if(k.selection.mode=="x"){Y.first.y=0;Y.second.y=w}else{Y.first.y=(Z.max-AN.y1)*u;Y.second.y=(Z.max-AN.y2)*u}if(k.selection.mode=="y"){Y.first.x=0;Y.second.x=L}else{Y.first.x=(AN.x1-n.min)*v;Y.second.x=(AN.x2-n.min)*v}U();l()}function U(){if(P!=null&&Y.first.x==P.first.x&&Y.first.y==P.first.y&&Y.second.x==P.second.x&&Y.second.y==P.second.y){return }AM.strokeStyle=E(k.selection.color).scale(null,null,null,0.8).toString();AM.lineWidth=1;d.lineJoin="round";AM.fillStyle=E(k.selection.color).scale(null,null,null,0.4).toString();P={first:{x:Y.first.x,y:Y.first.y},second:{x:Y.second.x,y:Y.second.y}};var AN=Math.min(Y.first.x,Y.second.x),AQ=Math.min(Y.first.y,Y.second.y),AO=Math.abs(Y.second.x-Y.first.x),AP=Math.abs(Y.second.y-Y.first.y);AM.fillRect(AN+h.left,AQ+h.top,AO,AP);AM.strokeRect(AN+h.left,AQ+h.top,AO,AP)}function T(){var AN=5;return Math.abs(Y.second.x-Y.first.x)>=AN&&Math.abs(Y.second.y-Y.first.y)>=AN}}F.plot=function(K,I,H){var J=new D(K,I,H);return J};function C(H){return Math.pow(10,Math.floor(Math.log(H)/Math.LN10))}function G(N,M,I,K){var L=["r","g","b","a"];var H=4;while(-1<--H){this[L[H]]=arguments[H]||((H==3)?1:0)}this.toString=function(){if(this.a>=1){return"rgb("+[this.r,this.g,this.b].join(",")+")"}else{return"rgba("+[this.r,this.g,this.b,this.a].join(",")+")"}};this.scale=function(Q,P,R,O){H=4;while(-1<--H){if(arguments[H]!=null){this[L[H]]*=arguments[H]}}return this.normalize()};this.adjust=function(Q,P,R,O){H=4;while(-1<--H){if(arguments[H]!=null){this[L[H]]+=arguments[H]}}return this.normalize()};this.clone=function(){return new G(this.r,this.b,this.g,this.a)};var J=function(P,O,Q){return Math.max(Math.min(P,Q),O)};this.normalize=function(){this.r=J(parseInt(this.r),0,255);this.g=J(parseInt(this.g),0,255);this.b=J(parseInt(this.b),0,255);this.a=J(this.a,0,1);return this};this.normalize()}var B={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]};function A(I){var H,J=I;do{H=J.css("background-color").toLowerCase();if(H!=""&&H!="transparent"){break}J=J.parent()}while(!F.nodeName(J.get(0),"body"));if(H=="rgba(0, 0, 0, 0)"){return"transparent"}return H}function E(J){var H;if(H=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(J)){return new G(parseInt(H[1]),parseInt(H[2]),parseInt(H[3]))}if(H=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(J)){return new G(parseInt(H[1]),parseInt(H[2]),parseInt(H[3]),parseFloat(H[4]))}if(H=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(J)){return new G(parseFloat(H[1])*2.55,parseFloat(H[2])*2.55,parseFloat(H[3])*2.55)}if(H=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(J)){return new G(parseFloat(H[1])*2.55,parseFloat(H[2])*2.55,parseFloat(H[3])*2.55,parseFloat(H[4]))}if(H=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(J)){return new G(parseInt(H[1],16),parseInt(H[2],16),parseInt(H[3],16))}if(H=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(J)){return new G(parseInt(H[1]+H[1],16),parseInt(H[2]+H[2],16),parseInt(H[3]+H[3],16))}var I=jQuery.trim(J).toLowerCase();if(I=="transparent"){return new G(255,255,255,0)}else{H=B[I];return new G(H[0],H[1],H[2])}}})(jQuery)